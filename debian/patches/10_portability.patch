--- sra-sdk.orig/build/Makefile.gcc
+++ sra-sdk/build/Makefile.gcc
@@ -46,12 +46,6 @@
 # tool options
 WARN = -Wall # -Wconversion
 
-ifeq (64,$(BITS))
-	CARCH = -m64
-else
-	CARCH = -m32
-endif
-
 ifeq (prof, $(BUILD))
 	PROF = -pg
 endif
--- sra-sdk.orig/build/Makefile.shell
+++ sra-sdk/build/Makefile.shell
@@ -26,6 +26,7 @@
 # determine OS
 UNAME = $(shell uname -s)
 
+OS = ''
 ifeq (Darwin, $(UNAME))
 	OS = mac
 endif
@@ -41,11 +42,16 @@
 ifeq (xMINGW, $(findstring xMINGW,x$(UNAME)))
 	OS = win
 endif
+# handle all other OSes (like BSD or Hurd) as if they were linux (see bug #627861)
+ifeq ($(OS), '')
+	OS = linux
+endif
 
 # OS flavor is normally OS
 OSFLAV = $(OS)
 
 # determine ARCH
+ARCH=''
 ifeq (mac,$(OS))
 	ARCH = $(shell $(TOP)/build/mac.arch.sh)
 else
@@ -70,13 +76,13 @@
 		ARCH = sparc32
 	endif
 endif
+# Handle all other architectures equivalent as i386 (see bug #627861)
+ifeq ($(ARCH),'')
+	ARCH = i386
+endif
 
 # determine BITS
-ifeq (x86_64, $(ARCH))
-	BITS = 64
-else
-	BITS = 32
-endif
+BITS = $(shell dpkg-architecture -qDEB_BUILD_ARCH_BITS)
 
 # first pass through defines SRCDIR
 ifndef SRCDIR
